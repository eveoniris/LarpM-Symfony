{% extends "base.html.twig" %}

{% block title %}Compétences{% endblock title %}

{% block body %}

	{% include '_partials/breadcrumb.twig' with {'items' : [{'name' : 'Liste des compétences'}]} %}

	<div class="well well-sm">

		<div class="header">
			<h5>Liste des compétences</h5>
		</div>

		{% if is_granted('ROLE_REGLE', app.user) or is_granted('ROLE_ADMIN', app.user) %}
			{% set canAdd = {'title': 'Ajouter une compétence', 'path': path('competence.add')} %}
		{% else %}
			{% set canAdd = null %}
		{% endif %}
		{% include '_partials/formListSearch.twig' with
			{
				'canAdd': canAdd,
				'actionPath' : path('competence.list')
			} %}
	</div>
		
	<div class="row">
		{% for competence in paginator %}
			<div class="col-sm-4 col-md-4">
				<div class="panel panel-default fixed-height">
					<div class="header">
						<h5>{{ competence.competenceFamily.label }}</h5>
					</div>
					<div class="panel-body">
		      			<blockquote>
		      				<p>{{ competence.competenceFamily.description|markdown_to_html }}</p>
		      			</blockquote>
		      			<h6>{{ competence.level.label }}</h6>
		      			<p>{{ competence.description|markdown_to_html }}</p>
		    		</div>
		  		</div>
		  	</div>
		{% endfor %}
	</div>

{% endblock body %}
